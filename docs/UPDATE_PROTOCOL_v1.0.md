# 🔄 بروتوكول التحديث الإلزامي - مركز الفارس

**الإصدار**: v1.0.0  
**تاريخ الإنشاء**: 17 أكتوبر 2025  
**تاريخ آخر تحديث**: 17 أكتوبر 2025  
**الحالة**: ✅ نشط

---

## 🚨 تحذير مهم

هذا البروتوكول **إلزامي** لكل تعديل.  
**عدم الالتزام = رفض التعديل**

---

## 📋 الخطوات الإلزامية

### المرحلة 1: قبل التعديل (Pre-Update)

#### الخطوة 1: التحضير
```
1. اقرأ DOCUMENTATION_INDEX.md
2. اقرأ ARCHITECTURE_v1.0.md
3. اقرأ DEVELOPMENT_GUIDE_v1.0.md
4. راجع DO_NOT_TOUCH_v1.0.md
5. راجع CODE_REVIEW_CHECKLIST_v1.0.md
```

#### الخطوة 2: التخطيط
```
1. حدد بالضبط ماذا ستعدّل
2. حدد الملفات المتأثرة
3. حدد رقم الإصدار الجديد:
   - MAJOR: تغيير جذري (v1.0.0 → v2.0.0)
   - MINOR: ميزة جديدة (v1.0.0 → v1.1.0)
   - PATCH: إصلاح خطأ (v1.0.0 → v1.0.1)
```

#### الخطوة 3: التسجيل
```
1. افتح CHANGELOG_v1.0.md
2. أضف سطر جديد:
   [التاريخ] [الإصدار] - [وصف التعديل] - [اسمك]
```

---

### المرحلة 2: التعديل (Update)

#### الخطوة 1: التعديل الفعلي
```
1. عدّل الملفات المطلوبة
2. اتبع القواعد في DEVELOPMENT_GUIDE_v1.0.md
3. راجع CODE_REVIEW_CHECKLIST_v1.0.md
```

#### الخطوة 2: الاختبار
```
1. اختبر في اللغتين (عربي + إنجليزي)
2. اختبر في الوضعين (فاتح + داكن)
3. اختبر على الأجهزة (موبايل + تابلت + كمبيوتر)
4. تأكد من عدم وجود أخطاء في Console
```

---

### المرحلة 3: التوثيق (Documentation)

#### الخطوة 1: حدّث CHANGELOG
```
1. افتح CHANGELOG_v1.0.md
2. أضف تفاصيل التعديل:
   
   ## [v1.1.0] - 2025-10-18
   ### Added
   - إضافة قسم الشهادات
   - إضافة ملف certificates.css
   
   ### Changed
   - تحديث lang/ar.json
   - تحديث lang/en.json
   
   ### Fixed
   - (إذا كان هناك إصلاحات)
```

#### الخطوة 2: حدّث الملفات المتأثرة
```
إذا غيّرت البنية:
  → حدّث ARCHITECTURE_v1.0.md

إذا أضفت قاعدة جديدة:
  → حدّث DEVELOPMENT_GUIDE_v1.0.md

إذا عدّلت الترجمة:
  → حدّث TRANSLATION_SYSTEM_v1.0.md

إذا أضفت حل لمشكلة:
  → حدّث TROUBLESHOOTING_v1.0.md
```

#### الخطوة 3: زِد رقم الإصدار
```
1. افتح الملف المحدّث
2. غيّر السطر الأول:
   **الإصدار**: v1.0.0 → **الإصدار**: v1.1.0
3. غيّر "تاريخ آخر تحديث"
4. أضف سطر في جدول "سجل التحديثات"
```

---

### المرحلة 4: Git Commit

#### الخطوة 1: راجع الملفات
```bash
git status
git diff
```

#### الخطوة 2: أضف الملفات
```bash
git add index.html
git add assets/css/certificates.css
git add lang/ar.json
git add lang/en.json
git add docs/CHANGELOG_v1.0.md
git add docs/ARCHITECTURE_v1.0.md
```

#### الخطوة 3: Commit
```bash
git commit -m "feat: إضافة قسم الشهادات

- أضفت قسم جديد في HTML (#certificates)
- أضفت ملف certificates.css
- أضفت المفاتيح في lang/ar.json و lang/en.json
- حدّثت ARCHITECTURE_v1.0.md
- حدّثت CHANGELOG_v1.0.md

الإصدار الجديد: v1.1.0
المبرمج: [اسمك]"
```

---

## 📝 نموذج رسالة Commit

### البنية
```
<نوع>: <وصف قصير>

<وصف تفصيلي>

الإصدار الجديد: <رقم الإصدار>
المبرمج: <اسمك>
```

### الأنواع المسموحة
- `feat`: ميزة جديدة (MINOR)
- `fix`: إصلاح خطأ (PATCH)
- `docs`: تحديث التوثيق (لا يغيّر الإصدار)
- `style`: تعديل تصميم (PATCH)
- `refactor`: إعادة هيكلة (MAJOR)
- `test`: إضافة اختبارات (لا يغيّر الإصدار)

---

## 🎯 أمثلة كاملة

### مثال 1: إضافة ميزة جديدة (MINOR)

#### التعديل
```
- أضفت قسم "الشهادات"
- أضفت ملف certificates.css
- أضفت المفاتيح في lang/ar.json و lang/en.json
```

#### رقم الإصدار
```
v1.0.0 → v1.1.0
```

#### Commit
```bash
git commit -m "feat: إضافة قسم الشهادات

- أضفت قسم جديد في HTML (#certificates)
- أضفت ملف certificates.css
- أضفت المفاتيح في lang/ar.json و lang/en.json
- حدّثت ARCHITECTURE_v1.0.md
- حدّثت CHANGELOG_v1.0.md

الإصدار الجديد: v1.1.0
المبرمج: أحمد محمد"
```

---

### مثال 2: إصلاح خطأ (PATCH)

#### التعديل
```
- أصلحت خطأ في ترجمة قسم الخدمات
```

#### رقم الإصدار
```
v1.1.0 → v1.1.1
```

#### Commit
```bash
git commit -m "fix: إصلاح خطأ في ترجمة قسم الخدمات

- صحّحت النص في lang/en.json
- حدّثت CHANGELOG_v1.0.md

الإصدار الجديد: v1.1.1
المبرمج: سارة أحمد"
```

---

### مثال 3: إعادة هيكلة كاملة (MAJOR)

#### التعديل
```
- أعدت هيكلة المشروع بالكامل
- فصلت الطبقات بشكل كامل
- نقلت البيانات لملفات JSON منفصلة
```

#### رقم الإصدار
```
v1.1.1 → v2.0.0
```

#### Commit
```bash
git commit -m "refactor: إعادة هيكلة كاملة مع فصل طبقات

- أعدت هيكلة المجلدات
- نقلت البيانات لـ data/*.json
- نقلت الإعدادات لـ config/*.json
- قسّمت ملفات الترجمة لملفات أصغر
- حدّثت جميع ملفات التوثيق

الإصدار الجديد: v2.0.0
المبرمج: خالد علي"
```

---

## ⚠️ الأخطاء الشائعة

### ❌ خطأ 1: نسيان تحديث CHANGELOG
**النتيجة**: لا أحد يعرف ماذا تغيّر

**الحل**: حدّث CHANGELOG دائماً

---

### ❌ خطأ 2: رسالة Commit غير واضحة
```bash
git commit -m "تعديلات"
```

**الحل**: اتبع النموذج أعلاه

---

### ❌ خطأ 3: نسيان زيادة رقم الإصدار
**النتيجة**: تضارب في الإصدارات

**الحل**: زِد الرقم دائماً

---

### ❌ خطأ 4: عدم الاختبار
**النتيجة**: أخطاء في الإنتاج

**الحل**: اختبر دائماً قبل Commit

---

## ✅ قائمة تحقق نهائية

قبل `git push`:

- [ ] اختبرت التعديل بالكامل
- [ ] حدّثت CHANGELOG_v1.0.md
- [ ] حدّثت الملفات المتأثرة
- [ ] زدت رقم الإصدار
- [ ] رسالة Commit واضحة ومفصّلة
- [ ] لا توجد أخطاء في Console
- [ ] الموقع يعمل في اللغتين
- [ ] الموقع يعمل في الوضعين

---

## 🔗 روابط ذات صلة

- 📖 [قائمة التحقق](./CODE_REVIEW_CHECKLIST_v1.0.md)
- 📖 [سجل التغييرات](./CHANGELOG_v1.0.md)
- 📖 [قواعد التطوير](./DEVELOPMENT_GUIDE_v1.0.md)

---

## 📝 سجل التحديثات

| الإصدار | التاريخ | التعديل | المبرمج |
|---------|---------|---------|---------|
| v1.0.0 | 2025-10-17 | إنشاء الملف | فريق الفارس |

---

**تم إعداد هذا الملف بواسطة**: فريق الفارس التقني  
**التاريخ**: 17 أكتوبر 2025  
**الإصدار**: v1.0.0  
**الحالة**: ✅ نشط

