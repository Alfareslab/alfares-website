# 🏗️ معمارية المشروع - مركز الفارس

**الإصدار**: v1.0.0  
**تاريخ الإنشاء**: 17 أكتوبر 2025  
**تاريخ آخر تحديث**: 17 أكتوبر 2025  
**الحالة**: ✅ نشط

---

## 🚨 تحذير مهم

هذا الملف **ملزم** لكل من يعمل على المشروع.  
فهم المعمارية **ضروري** قبل أي تعديل.

**عدم الفهم = أخطاء كارثية**

---

## 📋 جدول المحتويات

1. [نظرة عامة](#نظرة-عامة)
2. [فلسفة التصميم](#فلسفة-التصميم)
3. [هيكل المجلدات](#هيكل-المجلدات)
4. [فصل الطبقات](#فصل-الطبقات)
5. [نظام الملفات](#نظام-الملفات)
6. [التبعيات](#التبعيات)
7. [تدفق البيانات](#تدفق-البيانات)
8. [المعمارية المستقبلية](#المعمارية-المستقبلية)

---

## 🎯 نظرة عامة

### ما هو هذا المشروع؟

موقع **مركز الفارس لصيانة الكمبيوتر واستعادة البيانات** هو تطبيق ويب **ثابت** (Static Website) مبني بتقنيات:

- **HTML5** - الهيكل
- **CSS3** - التصميم
- **Vanilla JavaScript** - الوظائف التفاعلية
- **JSON** - البيانات والترجمة

### لماذا Static Website؟

تم اختيار هذا النهج للأسباب التالية:

✅ **البساطة**: لا يحتاج خادم backend أو قاعدة بيانات  
✅ **الأداء**: تحميل سريع جداً  
✅ **الأمان**: لا توجد ثغرات في الخادم  
✅ **التكلفة**: استضافة مجانية متاحة  
✅ **الصيانة**: سهل جداً للتحديث والتطوير

---

## 💡 فلسفة التصميم

### المبادئ الأساسية

#### 1️⃣ **Single Page Application (SPA)**

الموقع عبارة عن **صفحة واحدة** (`index.html`) تحتوي على جميع الأقسام:

```
index.html
├── Header (القائمة العلوية)
├── Hero Slider (السلايدر الرئيسي)
├── About (من نحن)
├── Services (خدماتنا)
├── Capabilities (إمكانياتنا)
├── Process (آلية العمل)
├── Reviews (آراء العملاء)
├── TikTok (فيديوهاتنا)
├── Contact (تواصل معنا)
└── Footer (التذييل)
```

**لماذا؟**
- ✅ تجربة مستخدم سلسة (Smooth Scrolling)
- ✅ لا حاجة لإعادة تحميل الصفحة
- ✅ سهولة التنقل بين الأقسام

#### 2️⃣ **Separation of Concerns (فصل المسؤوليات)**

كل طبقة لها مسؤولية محددة:

| الطبقة | المسؤولية | الملفات |
|--------|----------|---------|
| **البيانات** | تخزين المحتوى والترجمات | `lang/*.json` |
| **المنطق** | الوظائف التفاعلية | `assets/js/*.js` |
| **العرض** | التصميم والألوان | `assets/css/*.css` |
| **الهيكل** | بنية الصفحة | `index.html` |

#### 3️⃣ **Mobile-First Design**

التصميم يبدأ من الموبايل ثم يتوسع للشاشات الأكبر:

```css
/* الافتراضي: موبايل */
.container { width: 100%; }

/* تابلت */
@media (min-width: 768px) {
  .container { width: 750px; }
}

/* كمبيوتر */
@media (min-width: 1024px) {
  .container { width: 1000px; }
}
```

#### 4️⃣ **Progressive Enhancement**

الموقع يعمل بدون JavaScript، لكن JavaScript يحسّن التجربة:

- ✅ بدون JS: الموقع يعمل، لكن بدون تبديل لغة أو وضع داكن
- ✅ مع JS: تجربة كاملة مع جميع المميزات

---

## 📁 هيكل المجلدات

### البنية الكاملة

```
alfares-website-v1.0/
├── index.html                    ← الصفحة الرئيسية الوحيدة
│
├── assets/                       ← جميع الأصول
│   ├── css/                      ← ملفات الأنماط
│   │   ├── base.css             ← المتغيرات والألوان والخطوط
│   │   ├── layout.css           ← التخطيط العام والشبكات
│   │   ├── components.css       ← مكونات واجهة المستخدم
│   │   └── hero-slider.css      ← السلايدر الرئيسي فقط
│   │
│   ├── js/                       ← ملفات JavaScript
│   │   ├── main.js              ← المنطق الرئيسي (اللغة، الوضع الداكن)
│   │   ├── hero-slider.js       ← السلايدر فقط
│   │   ├── reviews.js           ← التقييمات فقط
│   │   └── tiktok.js            ← فيديوهات TikTok فقط
│   │
│   ├── images/                   ← الصور
│   │   └── hero-slider/         ← صور السلايدر (5 صور)
│   │       ├── store_front-min.png
│   │       ├── pc3000_portable_pro-min.png
│   │       ├── clean_room-min.png
│   │       ├── apple_repair-min.png
│   │       └── fast_service-min.png
│   │
│   └── vendor/                   ← المكتبات الخارجية
│       └── swiper/               ← مكتبة Swiper.js (محلية)
│           ├── swiper-bundle.min.js
│           └── swiper-bundle.min.css
│
├── lang/                         ← ملفات الترجمة
│   ├── ar.json                  ← النصوص العربية
│   └── en.json                  ← النصوص الإنجليزية
│
├── seo/                          ← ملفات SEO
│   ├── robots.txt               ← ملف Robots
│   ├── sitemap.xml              ← خريطة الموقع
│   └── structured-data.json     ← البيانات المنظمة
│
├── docs/                         ← التوثيق (أنت هنا)
│   ├── DOCUMENTATION_INDEX.md
│   ├── ARCHITECTURE_v1.0.md     ← هذا الملف
│   ├── DEVELOPMENT_GUIDE_v1.0.md
│   └── ... (باقي ملفات التوثيق)
│
├── README.md                     ← دليل المشروع
├── VERIFICATION_v1.1.md          ← تقرير التحقق
└── DEPLOYMENT.md                 ← دليل النشر
```

### شرح المجلدات

#### 📂 `assets/css/`

يحتوي على **4 ملفات CSS** منفصلة، كل واحد له مسؤولية محددة:

##### 1. `base.css` - الأساس
**المسؤولية**: المتغيرات، الألوان، الخطوط، الإعدادات العامة

```css
:root {
  /* الألوان الرئيسية */
  --color-primary: #1e40af;
  --color-secondary: #059669;
  
  /* الخطوط */
  --font-arabic: 'Cairo', sans-serif;
  --font-english: 'Inter', sans-serif;
  
  /* المسافات */
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 2rem;
}
```

**⚠️ تحذير**: هذا الملف **حساس جداً**. أي تعديل فيه يؤثر على الموقع كله.

##### 2. `layout.css` - التخطيط
**المسؤولية**: الشبكات، الحاويات، التخطيط العام

```css
.container { ... }
.grid { ... }
.flex { ... }
```

##### 3. `components.css` - المكونات
**المسؤولية**: الأزرار، البطاقات، النماذج، إلخ

```css
.btn { ... }
.card { ... }
.form-input { ... }
```

##### 4. `hero-slider.css` - السلايدر
**المسؤولية**: تصميم السلايدر الرئيسي فقط

```css
.hero-slider { ... }
.hero-slide { ... }
```

**لماذا ملف منفصل؟**
- ✅ السلايدر معقد ويحتاج أكواد كثيرة
- ✅ سهل العثور على أكواد السلايدر
- ✅ يمكن تعطيله بسهولة لو احتجنا

---

#### 📂 `assets/js/`

يحتوي على **4 ملفات JavaScript** منفصلة:

##### 1. `main.js` - المنطق الرئيسي
**المسؤولية**:
- ✅ نظام تبديل اللغة (عربي/إنجليزي)
- ✅ نظام الوضع الداكن (فاتح/داكن)
- ✅ التنقل السلس بين الأقسام
- ✅ زر العودة للأعلى
- ✅ زر واتساب العائم

##### 2. `hero-slider.js` - السلايدر
**المسؤولية**:
- ✅ تهيئة Swiper.js
- ✅ إعدادات السلايدر (7 ثوانٍ، Fade Effect)
- ✅ أزرار التنقل

##### 3. `reviews.js` - التقييمات
**المسؤولية**:
- ✅ عرض التقييمات من Google
- ✅ فلترة التقييمات (≥3.5 نجمة)
- ✅ زر "عرض المزيد"

##### 4. `tiktok.js` - فيديوهات TikTok
**المسؤولية**:
- ✅ تضمين فيديوهات TikTok
- ✅ Lazy Loading
- ✅ معالجة الأخطاء

---

#### 📂 `lang/`

يحتوي على **ملفين JSON** للترجمة:

##### `ar.json` - العربية
```json
{
  "brand": {
    "full": "مركز الفارس لصيانة الكمبيوتر واستعادة البيانات",
    "short": "مركز الفارس"
  },
  "nav": {
    "home": "الرئيسية",
    "about": "من نحن"
  }
}
```

##### `en.json` - الإنجليزية
```json
{
  "brand": {
    "full": "Al-Fares Center for Computer Repair and Data Recovery",
    "short": "Al-Fares Center"
  },
  "nav": {
    "home": "Home",
    "about": "About Us"
  }
}
```

**⚠️ قاعدة مهمة**: البنية **يجب** أن تكون متطابقة في الملفين.

---

## 🔀 فصل الطبقات (Separation of Layers)

### الطبقات الحالية (v1.0.0)

#### 1️⃣ **طبقة البيانات (Data Layer)**

**الموقع**: `lang/*.json`

**المسؤولية**: تخزين جميع النصوص القابلة للترجمة

**مثال**:
```json
{
  "hero": {
    "slides": [
      {
        "title": "مركز الفارس...",
        "description": "12 سنة خبرة...",
        "cta": "تواصل معنا الآن"
      }
    ]
  }
}
```

**✅ مميزات**:
- تعديل النصوص بدون تعديل الكود
- سهولة الترجمة

**❌ عيوب حالية**:
- بعض البيانات (مثل التقييمات) مدمجة في `reviews.js`

---

#### 2️⃣ **طبقة المنطق (Logic Layer)**

**الموقع**: `assets/js/*.js`

**المسؤولية**: جميع الوظائف التفاعلية

**مثال**:
```javascript
// main.js
async function changeLanguage(lang) {
  const response = await fetch(`lang/${lang}.json`);
  const translations = await response.json();
  updatePageContent(translations);
}
```

**✅ مميزات**:
- منطق واضح ومنظم
- كل ملف له وظيفة محددة

---

#### 3️⃣ **طبقة العرض (Presentation Layer)**

**الموقع**: `assets/css/*.css`

**المسؤولية**: التصميم والألوان

**مثال**:
```css
/* base.css */
:root {
  --color-primary: #1e40af;
}

/* components.css */
.btn-primary {
  background: var(--color-primary);
}
```

**✅ مميزات**:
- استخدام CSS Variables
- سهولة تغيير الألوان

---

#### 4️⃣ **طبقة الهيكل (Structure Layer)**

**الموقع**: `index.html`

**المسؤولية**: بنية الصفحة

**مثال**:
```html
<section id="about" class="section">
  <h2 data-i18n="about.title">من نحن</h2>
  <p data-i18n="about.intro">مرحباً بكم...</p>
</section>
```

**✅ مميزات**:
- HTML نظيف وواضح
- استخدام `data-i18n` للترجمة

---

### الفصل الجزئي الحالي

```
┌─────────────────────────────────────┐
│   Presentation (العرض)               │
│   ├── HTML (index.html)             │
│   └── CSS (assets/css/*.css)        │
└─────────────────────────────────────┘
              ↕️
┌─────────────────────────────────────┐
│   Logic (المنطق)                    │
│   └── JS (assets/js/*.js)           │
└─────────────────────────────────────┘
              ↕️
┌─────────────────────────────────────┐
│   Data (البيانات)                   │
│   └── JSON (lang/*.json)            │
└─────────────────────────────────────┘
```

**✅ ما تم فصله**:
- النصوص عن الكود
- التصميم عن الهيكل
- الوظائف عن بعضها

**⚠️ ما لم يتم فصله بالكامل**:
- البيانات الثابتة (التقييمات، الخدمات)
- الإعدادات (مدة السلايدر، الألوان الثابتة)

---

## 📄 نظام الملفات

### قواعد تسمية الملفات

#### ✅ الأسماء المسموحة:

- `kebab-case` للملفات: `hero-slider.css`
- `camelCase` للدوال: `changeLanguage()`
- `PascalCase` للمكونات: `HeroSlider`

#### ❌ الأسماء الممنوعة:

- `snake_case`: ❌ `hero_slider.css`
- أحرف عربية: ❌ `السلايدر.css`
- مسافات: ❌ `hero slider.css`

---

### ترتيب تحميل الملفات

**⚠️ الترتيب مهم جداً!**

```html
<!-- 1. CSS: من العام للخاص -->
<link rel="stylesheet" href="assets/vendor/swiper/swiper-bundle.min.css">
<link rel="stylesheet" href="assets/css/base.css">
<link rel="stylesheet" href="assets/css/layout.css">
<link rel="stylesheet" href="assets/css/components.css">
<link rel="stylesheet" href="assets/css/hero-slider.css">

<!-- 2. JavaScript: من المكتبات للتطبيق -->
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/hero-slider.js"></script>
<script src="assets/js/reviews.js"></script>
<script src="assets/js/tiktok.js"></script>
```

**لماذا هذا الترتيب؟**
- ✅ `base.css` يحدد المتغيرات التي تستخدمها الملفات الأخرى
- ✅ `main.js` يجب أن يُحمّل قبل الملفات الأخرى
- ✅ Swiper يجب أن يُحمّل قبل `hero-slider.js`

---

## 🔗 التبعيات (Dependencies)

### المكتبات الخارجية

#### 1. **Swiper.js** (v11.0.0)

**الاستخدام**: السلايدر الرئيسي

**الموقع**: `assets/vendor/swiper/`

**لماذا محلي؟**
- ✅ لا يعتمد على CDN خارجي
- ✅ يعمل بدون إنترنت
- ✅ أسرع في التحميل

**⚠️ تحذير**: لا تحذف هذه المكتبة، السلايدر يعتمد عليها.

---

#### 2. **Google Fonts** (Cairo + Inter)

**الاستخدام**: الخطوط

**الموقع**: CDN خارجي

```html
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
```

**لماذا CDN؟**
- ✅ الخطوط كبيرة الحجم
- ✅ Google Fonts سريع وموثوق
- ✅ يتم تخزينها في cache المتصفح

---

## 🔄 تدفق البيانات (Data Flow)

### عند تحميل الصفحة

```
1. المتصفح يفتح index.html
   ↓
2. يحمّل ملفات CSS (التصميم يظهر)
   ↓
3. يحمّل ملفات JavaScript
   ↓
4. main.js يتحقق من اللغة المحفوظة في localStorage
   ↓
5. يحمّل ملف الترجمة المناسب (ar.json أو en.json)
   ↓
6. يحدّث جميع العناصر التي لها data-i18n
   ↓
7. يهيئ السلايدر، التقييمات، الفيديوهات
   ↓
8. الموقع جاهز للاستخدام
```

---

### عند تبديل اللغة

```
1. المستخدم يضغط على زر اللغة (EN/AR)
   ↓
2. دالة changeLanguage() تُستدعى
   ↓
3. يحمّل ملف JSON الجديد
   ↓
4. يحدّث جميع العناصر
   ↓
5. يغيّر اتجاه الصفحة (RTL/LTR)
   ↓
6. يحفظ التفضيل في localStorage
```

---

### عند تبديل الوضع الداكن

```
1. المستخدم يضغط على زر الوضع (🌙/☀️)
   ↓
2. دالة toggleTheme() تُستدعى
   ↓
3. تضيف/تحذف class "dark" من <html>
   ↓
4. CSS يطبّق الألوان الداكنة تلقائياً
   ↓
5. يحفظ التفضيل في localStorage
```

---

## 🚀 المعمارية المستقبلية (v2.0.0)

### التحسينات المخططة

#### 1️⃣ **فصل طبقات كامل (Full Separation)**

```
data/
├── reviews.json          ← التقييمات
├── services.json         ← الخدمات
├── capabilities.json     ← الإمكانيات
└── process-steps.json    ← خطوات العمل

config/
├── settings.json         ← الإعدادات العامة
├── theme.json           ← ألوان وتصميم
└── features.json        ← تفعيل/تعطيل المميزات
```

**الفائدة**:
- ✅ أي تعديل في البيانات = تعديل JSON فقط
- ✅ لا حاجة لتعديل الكود أبداً

---

#### 2️⃣ **تقسيم ملفات الترجمة**

```
lang/
├── ar/
│   ├── common.json
│   ├── nav.json
│   ├── hero.json
│   └── services.json
└── en/
    ├── common.json
    ├── nav.json
    ├── hero.json
    └── services.json
```

**الفائدة**:
- ✅ سهل جداً إيجاد النص المطلوب
- ✅ يمكن لمترجم العمل على ملف واحد

---

#### 3️⃣ **تقسيم CSS Variables**

```
assets/css/variables/
├── colors.css
├── spacing.css
├── typography.css
└── breakpoints.css
```

**الفائدة**:
- ✅ تغيير كل الألوان من ملف واحد
- ✅ سهل جداً عمل ثيم جديد

---

## 📊 ملخص المعمارية

| الجانب | الحالة الحالية (v1.0) | المخطط (v2.0) |
|--------|----------------------|---------------|
| **فصل البيانات** | جزئي (النصوص فقط) | كامل (كل البيانات) |
| **فصل الإعدادات** | مدمج في الكود | ملف منفصل |
| **ملفات الترجمة** | ملف واحد لكل لغة | ملفات متعددة |
| **CSS Variables** | موجود لكن جزئي | كامل ومنظم |

---

## 🔗 روابط ذات صلة

- 📖 [قواعد التطوير](./DEVELOPMENT_GUIDE_v1.0.md)
- 📖 [نظام الترجمة](./TRANSLATION_SYSTEM_v1.0.md)
- 📖 [التحسينات المستقبلية](./FUTURE_ENHANCEMENTS_v1.0.md)

---

## 📝 سجل التحديثات

| الإصدار | التاريخ | التعديل | المبرمج |
|---------|---------|---------|---------|
| v1.0.0 | 2025-10-17 | إنشاء الملف | فريق الفارس |

---

**تم إعداد هذا الملف بواسطة**: فريق الفارس التقني  
**التاريخ**: 17 أكتوبر 2025  
**الإصدار**: v1.0.0  
**الحالة**: ✅ نشط

